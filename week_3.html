<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Week 3 – Internship Documentation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container layout">

    <!-- ===== Sidebar ===== -->
    <aside class="sidebar">
      <h3>Internship Timeline</h3>
      <ul class="timeline">
        <li><a href="week_1.html">Week 1</a></li>
        <li><a href="week_2.html">Week 2</a></li>
        <li><a href="week_3.html">Week 3</a></li>
        <li><a href="week_4.html">Week 4</a></li>
      </ul>
    </aside>

    <!-- ===== Main Content ===== -->
    <main>
      <header>
        <h1>Week 3: 26/01/2026 – 01/02/2026</h1>
        <p>
          Week 3 focused on improving the chatbot system built in Week 2. 
          I worked on refining retrieval accuracy, improving memory handling, 
          enhancing prompt engineering, and strengthening overall system reliability.
        </p>
        <div class="nav">
          <a href="index.html">← Home</a>
        </div>
      </header>

      <section>
        <h2>Overview of Week 3</h2>
        <p>
          After building a functional RAG-based Grade 10 History chatbot in Week 2, 
          Week 3 was dedicated to optimization and refinement. The focus shifted from 
          “making it work” to “making it work well.”
        </p>
        <p>
          I analyzed inconsistencies in generated responses, improved context filtering, 
          fixed command recognition issues (such as “elaborate” and “summarize”), and 
          implemented a more structured memory mechanism to maintain conversation continuity.
        </p>
      </section>

      <section>
        <h2>Focus of the Week</h2>
        <p>
          The main focus was system improvement and architectural thinking. 
          Instead of adding new features immediately, I concentrated on:
        </p>
        <ul>
          <li>Improving retrieval precision from ChromaDB</li>
          <li>Reducing irrelevant or hallucinated answers</li>
          <li>Making command-based inputs function correctly</li>
          <li>Implementing better session-based memory</li>
          <li>Enhancing UI clarity and user experience</li>
        </ul>
      </section>

      <hr>

      <section>
        <h2>Tasks Completed</h2>
        <ul>
          <li>Refactored chatbot class structure for cleaner logic.</li>
          <li>Improved context filtering to avoid repeated chunk usage.</li>
          <li>Implemented explicit conditional logic for commands like “elaborate on”, “summarize”, and exam preparation prompts.</li>
          <li>Strengthened session state handling to maintain conversation memory.</li>
          <li>Optimized prompt structure to ensure exam-ready, structured responses.</li>
          <li>Improved Streamlit UI layout and message rendering.</li>
          <li>Debugged embedding and model connection errors during remote GPU usage.</li>
          <li>Analyzed system pipeline for future extension toward a Dzongkha-focused LLM.</li>
        </ul>
      </section>

      <section>
        <h2>Challenges / Solutions</h2>
        <table>
          <thead>
            <tr>
              <th>Challenge</th>
              <th>Solution / Learning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Chatbot not recognizing “elaborate” or “summarize” correctly</td>
              <td>Added structured conditional checks and separated logic for command-based prompts.</td>
            </tr>
            <tr>
              <td>Irrelevant context being reused repeatedly</td>
              <td>Implemented filtering mechanism to track used contexts and prioritize fresh chunks.</td>
            </tr>
            <tr>
              <td>Hallucinated answers beyond textbook context</td>
              <td>Strengthened system prompt to strictly restrict answers to retrieved context.</td>
            </tr>
            <tr>
              <td>Session memory inconsistencies</td>
              <td>Refined Streamlit session state handling to maintain conversation continuity.</td>
            </tr>
            <tr>
              <td>Remote GPU connection instability</td>
              <td>Improved understanding of Ngrok tunneling and ensured model availability before execution.</td>
            </tr>
          </tbody>
        </table>
      </section>

      <hr>

      <section>
        <h2>Reflection / Notes</h2>
        <ul>
          <li>This week taught me that building an AI system is not just about coding — it requires architectural thinking.</li>
          <li>I realized retrieval quality and prompt clarity directly affect model reliability.</li>
          <li>Debugging strengthened my understanding of how LLM pipelines actually function.</li>
          <li>System refinement felt more challenging than initial implementation.</li>
          <li>This phase laid foundational thinking for developing a future Dzongkha-focused language model.</li>
        </ul>
      </section>

      <div class="nav">
        <a href="index.html">← Home</a>
        <a href="week_2.html">← Previous</a>
        <a href="week_4.html">Next →</a>
      </div>

      <footer>
        © 2026 Dawa Seldon
      </footer>
    </main>

  </div>

  <script>
    const currentPage = window.location.pathname.split("/").pop();
    document.querySelectorAll('.timeline a').forEach(link => {
      if (link.getAttribute('href') === currentPage) {
        link.classList.add('active');
      } else {
        link.classList.remove('active');
      }
    });
  </script>

</body>
</html>
